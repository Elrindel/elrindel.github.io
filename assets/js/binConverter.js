let currentBits=32,inputFilter=(a,b,c=!0)=>(b=("1"==a.dataset.signed&&"-"==(b||a.value)[0]?"-":"")+(b||a.value).toUpperCase().replaceAll(new RegExp(a.dataset.filter,"g"),""),c?a.value=b:b),inputMaxLength=a=>{a.value.length&&(inputFilter(a),a.value.length>a.maxLength&&(a.value=a.value.substr(0,a.maxLength)))},inputChange=b=>{let a=inputFilter(b,void 0,!1);a.length&&"-"==a[0]?setValues(a.length>1?BigInt((b.dataset.bigintprefix?b.dataset.bigintprefix:"")+a.replace("-",""))-1n&2n**BigInt(currentBits-1)-1n^2n**BigInt(currentBits)-1n:"-"):setValues(a.length?BigInt((b.dataset.bigintprefix?b.dataset.bigintprefix:"")+a):"")},setValues=a=>{"bigint"==typeof a?document.querySelectorAll(".input").forEach(b=>{"1"==b.dataset.signed&&a>>BigInt(currentBits-1)==1n?inputFilter(b,"-"+((a^2n**BigInt(currentBits)-1n)+1n).toString(b.dataset.base)):inputFilter(b,a.toString(b.dataset.base))}):document.querySelectorAll(".input").forEach(b=>b.value="-"==a&&"1"==b.dataset.signed?"-":"")},setBits=a=>{let b=(1n<<BigInt(a))-1n;currentBits=parseInt(a),document.querySelector("form").style.setProperty("--input-size",a),document.querySelectorAll("input.input[maxlength]").forEach(a=>{let c=b.toString(a.dataset.base).length+("1"==a.dataset.signed?1:0);a.maxLength=c,a.parentNode.style.setProperty("--input-bg-hide",Math.max(0,currentBits-c)),inputMaxLength(a)}),inputChange(document.querySelector("input#base2"))},setSigned=a=>{document.querySelectorAll("input.input[data-signed]").forEach(b=>{b.parentNode.classList[a?"add":"remove"]("signed"),b.dataset.signed=a?1:0}),setBits(currentBits),inputChange(document.querySelector("input#base2"))},syncScroll=a=>{document.querySelectorAll(".input-scroll").forEach(b=>{b.scroll(a.target.scrollLeft,a.target.scrollTop)})};document.querySelectorAll(".input-scroll").forEach(a=>{a.addEventListener("scroll",syncScroll),a.addEventListener("wheel",b=>{b.preventDefault(),a.scrollLeft+=b.deltaY})}),document.querySelectorAll("input.input").forEach(a=>{a.addEventListener("input",a=>inputMaxLength(a.target)),a.addEventListener("keyup",a=>inputChange(a.target))}),document.querySelectorAll('input[name="bits"]').forEach(a=>{a.addEventListener("change",b=>{let a=parseInt(b.target.value);isNaN(a)?document.querySelector("input#bits-custom").style.display="inline-block":(document.querySelector("input#bits-custom").style.display="none",document.querySelector("input#bits-custom").value=a,setBits(a))})}),document.querySelector("input#bits-custom").addEventListener("change",a=>setBits(a.target.value)),document.querySelector("input#signed").addEventListener("change",a=>setSigned(a.target.checked)),setBits(currentBits)